<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unhas Perfeitas e Autoestima com Rosane Campos em Gravataí</title>
  <meta name="description" content="Manicure especialista em unhas que elevam sua autoestima. Atendimento personalizado e seguro em Gravataí. Agende seu momento e sinta-se linda!">
  <meta name="facebook-domain-verification" content="mp1oj81t2mrqjgo4ofnrbrldsd16z3" />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://i.imgur.com">

  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  <script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1312994806657918');
  fbq('track', 'PageView');
  </script>
  <noscript>
    <img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1312994806657918&ev=PageView&noscript=1"/>
  </noscript>
  <style>
    /* Reset Básico e Estilos Gerais */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { font-size: 16px; scroll-behavior: smooth; }
    body {
      font-family: 'Lato', sans-serif; font-weight: 400; line-height: 1.6; color: #333;
      background: linear-gradient(to bottom, #ffe0ed, #f9cfe0);
      /* text-align: center; <= REMOVIDO DAQUI */
      padding: 2rem 0 5rem 0; /* Aumenta padding inferior por causa do botão flutuante */
      overflow-x: hidden;
    }
    .container { max-width: 550px; margin: 0 auto; padding: 0 1rem; }

    /* Header */
    .profile-header {
        margin-bottom: 2rem;
        text-align: center; /* ADICIONADO */
    }
    .profile-pic {
      width: 140px; height: 140px; border-radius: 50%; object-fit: cover; margin: 0 auto 1rem auto; display: block;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); border: 4px solid white;
    }
    h1 { /* Estilo H1 principal */
      font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.9rem;
      color: #C2185B; margin-bottom: 0.5rem; line-height: 1.3;
    }
    .returning-visitor-message { /* Mensagem para visitante recorrente */
        font-size: 1rem; color: #D81B60; font-weight: 700; margin: 0.5rem auto 1rem auto; max-width: 90%;
        display: none; padding: 0.5rem; background-color: rgba(255,255,255,0.7); border-radius: 8px;
        border: 1px dashed #E91E63;
    }
    .subtext-principal { /* Subtítulo principal */
      font-size: 1.1rem; color: #444; margin: 0.5rem auto 2rem auto; max-width: 90%;
      font-weight: 400; line-height: 1.5;
    }

    /* Seções Padrão */
    section { border-radius: 15px; margin: 3rem auto; max-width: 95%; padding: 2rem 1.5rem; background-color: rgba(255, 255, 255, 0.7); box-shadow: 0 5px 18px rgba(0, 0, 0, 0.08); }
    section h2 {
        font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 1.5rem; color: #C2185B; margin-bottom: 1.5rem;
        text-align: center; /* ADICIONADO */
    }

    /* Seção Sobre Mim */
    .about-section p { font-size: 1rem; color: #555; line-height: 1.7; text-align: justify; }

    /* Seção Benefícios */
    .welcome-section h2 { color: #444; } /* Cor diferente para esta seção */
    .welcome-section .benefit-item {
        font-size: 1.05rem; color: #555; font-weight: 700; margin-bottom: 1rem; line-height: 1.5;
        display: flex; align-items: center; text-align: left; gap: 0.8rem;
    }
    .welcome-section .benefit-item span { font-size: 1.3rem; color: #E91E63; }

    /* Seção Carrossel */
    .carousel-section h2 { color: #444; }
    .swiper { width: 100%; max-width: 400px; margin: 0 auto; position: relative; border-radius: 8px; box-shadow: 0 6px 20px rgba(0,0,0,0.1); padding-bottom: 40px; overflow: hidden;}
    .swiper-slide { background-color: #fff; border-radius: 8px; padding: 0; box-shadow: none; overflow: hidden; }
    .swiper-slide img { display: block; width: 100%; height: 320px; object-fit: cover; object-position: center; border-radius: 8px; border: none; }
    .swiper-pagination { position: absolute; bottom: 10px !important; left: 0; width: 100%; }
    .swiper-pagination-bullet { background-color: rgba(0, 0, 0, 0.4); opacity: 1; width: 10px; height: 10px; }
    .swiper-pagination-bullet-active { background-color: #E91E63; transform: scale(1.1); }

    /* Seção Depoimentos */
    .testimonial-card { background-color: #fff; border-radius: 10px; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 4px 10px rgba(0,0,0,0.08); text-align: left; }
    .testimonial-card:last-child { margin-bottom: 0; }
    .testimonial-quote { font-style: italic; color: #555; margin-bottom: 1rem; position: relative; padding-left: 25px; }
     .testimonial-quote::before { /* Adiciona aspas estilizadas */ content: '“'; font-size: 2.5rem; color: #E91E63; position: absolute; left: -5px; top: -10px; font-family: 'Poppins', sans-serif;}
    .testimonial-author { font-weight: 700; color: #E91E63; text-align: right; display: flex; align-items: center; justify-content: flex-end; }
    .testimonial-author img { width: 40px; height: 40px; border-radius: 50%; margin-right: 0.5rem; object-fit: cover; border: 1px solid #eee; }

    /* Seção Formulário e CTA */
    .form-cta-section {
        background-color: rgba(255, 255, 255, 0.85); padding: 2.5rem 1.5rem;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); margin-bottom: 3rem;
        text-align: center; /* ADICIONADO */
    }
    .form-cta-section h3 { font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.6rem; color: #333; margin-bottom: 1rem; line-height: 1.3; }
    .form-cta-section .form-subtitle { font-size: 1rem; color: #555; margin-bottom: 2rem; line-height: 1.5; max-width: 90%; margin-left: auto; margin-right: auto;}
    #leadForm { display: flex; flex-direction: column; gap: 1.2rem; margin-bottom: 1.5rem; }
    #leadForm label { display: block; text-align: left; font-weight: 700; margin-bottom: 0.3rem; font-size: 0.9rem; color: #444; }
    #leadForm input[type="text"], #leadForm input[type="email"], #leadForm input[type="tel"] {
      padding: 0.9rem; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem;
      font-family: 'Lato', sans-serif; transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
    /* Estilo de Foco Acessível */
     #leadForm input:focus { outline: none; border-color: #C2185B; box-shadow: 0 0 0 3px rgba(194, 24, 91, 0.4); }
     /* Estilo de Validação Instantânea */
     #leadForm input.invalid-typing { border-color: orange; }
    #leadForm input.invalid-submit { border-color: red; } /* Validação no envio */
    .microcopy { font-size: 0.85rem; color: #666; text-align: left; margin-top: 0.25rem; margin-bottom: 1rem; }
    #formError { color: red; font-size: 0.9rem; margin-top: 0.5rem; display: none; text-align: center; font-weight: bold; }
    #formSuccessMessage {
        color: #006400; background-color: #e6ffed; border: 1px solid #90ee90;
        padding: 1rem; border-radius: 8px; font-weight: bold;
        margin-bottom: 1.5rem; display: none;
     }
     .trust-seals { font-size: 0.9rem; color: #555; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px dashed #ddd; } /* Selo de Confiança */
     .trust-seals span { margin: 0 0.5rem; }

    /* Botão CTA Principal */
    .whatsapp-btn {
      display: inline-flex; align-items: center; justify-content: center; gap: 0.8rem; width: auto; max-width: 100%; padding: 1rem 2.5rem;
      background: linear-gradient(to right, #E91E63, #C2185B); border: none; border-radius: 50px; font-family: 'Poppins', sans-serif;
      font-size: 1.2rem; font-weight: 700; text-decoration: none; color: #fff;
      box-shadow: 0 6px 15px rgba(233, 30, 99, 0.4); transition: all 0.3s ease; cursor: pointer;
      text-transform: uppercase; letter-spacing: 0.5px;
    }
    .whatsapp-btn svg { width: 24px; height: 24px; }
    @keyframes pulse { 0% { transform: scale(1); box-shadow: 0 6px 15px rgba(233, 30, 99, 0.4); } 50% { transform: scale(1.05); box-shadow: 0 8px 25px rgba(233, 30, 99, 0.6); } 100% { transform: scale(1); box-shadow: 0 6px 15px rgba(233, 30, 99, 0.4); } }
    .whatsapp-btn:hover, .whatsapp-btn:focus { background: linear-gradient(to right, #C2185B, #AD1457); transform: translateY(-2px); animation: pulse 1.5s infinite; outline: none; }

    /* --- NOVO: Botão Flutuante WhatsApp --- */
    #floating-whatsapp-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        background-color: #25D366; /* Cor oficial do WhatsApp */
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        text-decoration: none;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
     #floating-whatsapp-button:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
     }
     #floating-whatsapp-button svg {
        width: 30px; /* Tamanho do ícone interno */
        height: 30px;
        fill: white;
     }
    /* Esconder botão flutuante em telas grandes (opcional) */
    /* @media (min-width: 600px) {
        #floating-whatsapp-button { display: none; }
    } */

    /* Rodapé */
    footer {
        margin-top: 4rem; padding: 2rem 1rem; border-top: 1px solid rgba(0, 0, 0, 0.1);
        font-size: 0.9rem; color: #555;
        text-align: center; /* ADICIONADO */
    }
    footer p { margin-bottom: 0.5rem; }
    footer a { color: #E91E63; text-decoration: none; }
    footer a:hover { text-decoration: underline; }

    /* Ajustes Mobile */
    @media (max-width: 480px) {
      html { font-size: 15.5px; }
      h1 { font-size: 1.7rem; }
      .container { padding: 0 0.8rem; }
      .profile-pic { width: 120px; height: 120px; }
      section h2, .form-cta-section h3 { font-size: 1.4rem; }
      .form-cta-section .form-subtitle { font-size: 0.95rem; }
      .swiper-slide img { height: 280px; }
      .whatsapp-btn { font-size: 1.1rem; padding: 0.9rem 2rem; }
      #floating-whatsapp-button { width: 55px; height: 55px; bottom: 15px; right: 15px; } /* Menor no mobile */
      #floating-whatsapp-button svg { width: 28px; height: 28px; }
      .about-section p { text-align: left; } /* ADICIONADO: Evita justificação ruim em telas pequenas */
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="profile-header">
      <div id="dynamic-header">
        <img src="https://i.imgur.com/o4cHVYE.jpeg" alt="Rosane Campos - Nail Designer Profissional em Gravataí" class="profile-pic">
        <h1>Aqui suas unhas viram autoestima 💅</h1>
        <p class="returning-visitor-message" id="returningMessage">🎁 Presente pra você que voltou: Nail art filha única grátis!</p>
        <p class="subtext-principal" id="mainSubtitle">Um atendimento que cuida das suas mãos como se fossem minhas, aqui em Gravataí.</p>
      </div>
    </header>

    <section class="about-section" id="sobre">
      <h2>Conheça a Rosane: Paixão em Cuidar de Você</h2>
      <p>Olá, sou a Rosane Campos! Minha paixão é transformar unhas e elevar a autoestima das minhas clientes aqui em Gravataí. Com [X] anos de dedicação e especialização em [Técnica 1, ex: Unhas de Gel] e [Técnica 2, ex: Esmaltação de Longa Duração], meu compromisso vai além da beleza: ofereço um momento de relaxamento, cuidado e atenção exclusiva para você. A higiene é minha prioridade máxima, utilizando materiais descartáveis ou devidamente esterilizados. Adoro entender o seu estilo e criar unhas que te façam sentir ainda mais linda e confiante. Vamos conversar e descobrir juntas o tratamento perfeito para suas mãos?</p>
    </section>

    <section class="welcome-section" id="beneficios">
        <h2>Por Que Escolher a Rosane? Sua Experiência Única</h2>
        <div class="benefit-item"><span>💖</span> **Atendimento Personalizado:** Aqui você não é só mais uma. Escuto seus desejos e cuido de você com carinho e exclusividade.</div>
        <div class="benefit-item"><span>💎</span> **Qualidade e Durabilidade:** Uso apenas produtos de alta linha e técnicas aprimoradas para unhas que duram e impressionam.</div>
        <div class="benefit-item"><span>🌿</span> **Higiene e Segurança:** Ambiente 100% seguro, materiais esterilizados e foco total na sua saúde e bem-estar.</div>
        <div class="benefit-item"><span>⏰</span> **Seu Tempo é Precioso:** Respeito total aos horários agendados para que seu momento de beleza seja tranquilo e sem atrasos.</div>
    </section>

    <section class="carousel-section" id="trabalhos">
      <h2>Meu Trabalho: Carinho em Cada Detalhe</h2>
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide"><img src="https://i.imgur.com/XoQS1ua.jpg" alt="Manicure Profissional - Exemplo 1"></div>
          <div class="swiper-slide"><img src="https://i.imgur.com/1vbr699.jpg" alt="Unhas Decoradas - Exemplo 2"></div>
          <div class="swiper-slide"><img src="https://i.imgur.com/XoQS1ua.jpg" alt="Esmaltação em Gel - Exemplo 3"></div>
          <div class="swiper-slide"><img src="https://i.imgur.com/1vbr699.jpg" alt="Nail Art Delicada - Exemplo 4"></div>
        </div>
        <div class="swiper-pagination"></div>
      </div>
    </section>

    <section class="testimonials-section" id="depoimentos">
        <h2>A Opinião de Quem Confia no Meu Trabalho</h2>
        <div class="testimonial-card">
          <p class="testimonial-quote">"Amei o resultado! Minhas unhas nunca duraram tanto e o atendimento da Rosane é maravilhoso, super atenciosa. Ambiente impecável!"</p>
          <p class="testimonial-author">
             <img src="https://i.imgur.com/kCFcWBR.jpg" alt="Foto Ana P.">
             <strong>Ana P.</strong> - Gravataí/RS
          </p>
        </div>
        <div class="testimonial-card">
          <p class="testimonial-quote">"Profissional excelente! Entendeu exatamente o que eu queria e minhas unhas ficaram perfeitas. Recomendo muito!"</p>
          <p class="testimonial-author">
             <img src="https://i.imgur.com/kCFcWBR.jpg" alt="Foto Mariana S.">
             <strong>Mariana S.</strong> - Cachoeirinha/RS
          </p>
        </div>
         <div class="testimonial-card">
          <p class="testimonial-quote">"Além das unhas ficarem lindas, me senti super relaxada no atendimento. A Rosane é um amor e muito caprichosa."</p>
          <p class="testimonial-author">
             <img src="https://i.imgur.com/kCFcWBR.jpg" alt="Foto Juliana R.">
             <strong>Juliana R.</strong> - Gravataí/RS
          </p>
        </div>
    </section>

    <section class="form-cta-section" id="contato">
        <h3 id="formTitle">Esse pode ser o dia em que você vai se apaixonar pelas suas mãos 💅</h3>
        <p class="form-subtitle">É rápido e fácil! Preencha abaixo e vamos conversar pelo WhatsApp para encontrar o horário perfeito para você.</p>

        <div id="formSuccessMessage">💌 Tudo certo! Agora clique no botão abaixo para conversarmos no WhatsApp e garantir seu horário.</div>

        <form id="leadForm" novalidate>
            <div>
                <label for="firstName">Seu Primeiro Nome:</label>
                <input type="text" id="firstName" name="firstName" required>
            </div>
            <div>
                <label for="lastName">Seu Sobrenome:</label>
                <input type="text" id="lastName" name="lastName" required>
             </div>
            <div>
                 <label for="email">Seu Melhor E-mail:</label>
                 <input type="email" id="email" name="email" required>
                 <p class="microcopy">Usamos apenas para confirmações importantes, ok? Sem spam.</p>
            </div>
            <div>
                <label for="phone">Seu WhatsApp (com DDD):</label>
                <input type="tel" id="phone" name="phone" required pattern="[0-9]{11}" maxlength="11" title="Digite exatamente 11 números (DDD + 9 dígitos do celular)" placeholder="Ex: 51999998888">
                <p class="microcopy">É por aqui que vamos agendar e tirar suas dúvidas rapidinho!</p>
            </div>
            <div id="formError">Ops! Verifique os campos marcados em vermelho.</div>

            <button type="submit" class="btn whatsapp-btn" id="submitButton">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="24" height="24" fill="currentColor" style="vertical-align: middle;"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.8 0-67.6-9.5-97.2-27.2l-4.7-2.8-71.8 18.8 19.2-70.1-3.1-5.1c-18.1-29.9-28.1-64.6-28.1-100.9 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/></svg>
                <span style="vertical-align: middle;">Quero minhas unhas lindas com a Rosane 💅</span>
            </button>
        </form>
        <div class="trust-seals">
            <span>🔒 Seus dados protegidos</span> | <span>💖 +500 unhas atendidas com amor</span>
        </div>
    </section>

    <footer>
      <p>📍 Atendimento em Gravataí/RS - **[Inserir Bairro ou Referência Aqui]**</p>
      <p>&copy; <span id="currentYear"></span> Rosane Campos Nail Design. Todos os direitos reservados.</p>
      <p><a href="politica-privacidade.html" id="privacyLink" title="Leia nossa Política de Privacidade">Política de Privacidade</a> | Respeitamos a LGPD</p>
    </footer>
  </div>

  <a href="https://wa.me/5551997549708?text=Ol%C3%A1%20Rosane!%20Vim%20do%20site%20e%20gostaria%20de%20mais%20informa%C3%A7%C3%B5es."
     target="_blank" rel="noopener noreferrer" id="floating-whatsapp-button" title="Fale com a Rosane no WhatsApp">
     <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"> <path d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.8 0-67.6-9.5-97.2-27.2l-4.7-2.8-71.8 18.8 19.2-70.1-3.1-5.1c-18.1-29.9-28.1-64.6-28.1-100.9 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"/>
     </svg>
  </a>

  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    // --- Inicializações ---
    document.getElementById("currentYear").textContent = new Date().getFullYear();

    // Inicialização do Swiper
    var swiper = new Swiper(".mySwiper", {
      slidesPerView: 1, spaceBetween: 20, loop: true, grabCursor: true,
      pagination: { el: ".swiper-pagination", clickable: true },
      autoplay: { delay: 4500, disableOnInteraction: false },
      effect: "slide",
    });

    // --- Lógica para Visitantes Recorrentes ---
    function handleReturningVisitor() {
      const returningMessageElement = document.getElementById('returningMessage');
      const mainSubtitleElement = document.getElementById('mainSubtitle');
      const h1Element = document.querySelector('#dynamic-header h1');
      const formTitleElement = document.getElementById('formTitle'); // Título da seção do formulário

      if (localStorage.getItem('rosane_visited_before')) {
        // É um visitante recorrente
        if(h1Element) h1Element.innerText = 'Você voltou! Que bom te ver de novo 💖';
        if(mainSubtitleElement) mainSubtitleElement.innerText = 'Sua beleza está esperando! Vamos agendar seu horário?';
        if(returningMessageElement) returningMessageElement.style.display = 'block';
        // Muda também o título do formulário para recorrente
        if(formTitleElement) formTitleElement.innerText = 'Vamos finalizar seu agendamento? 😉';
      } else {
        // É a primeira visita, marca como visitado
        localStorage.setItem('rosane_visited_before', 'true');
        if(returningMessageElement) returningMessageElement.style.display = 'none';
         // Garante textos originais da primeira visita
         if(h1Element) h1Element.innerText = 'Aqui suas unhas viram autoestima 💅'; // Texto H1 novo
         if(mainSubtitleElement) mainSubtitleElement.innerText = 'Um atendimento que cuida das suas mãos como se fossem minhas, aqui em Gravataí.'; // Texto Subtítulo novo
         if(formTitleElement) formTitleElement.innerText = 'Esse pode ser o dia em que você vai se apaixonar pelas suas mãos 💅'; // Texto Form novo
      }
    }

    // --- Lógica do Formulário e Envio CAPI ---
    const leadForm = document.getElementById('leadForm');
    const submitButton = document.getElementById('submitButton');
    const formSuccessMessage = document.getElementById('formSuccessMessage');
    const formError = document.getElementById('formError');
    const phoneInput = document.getElementById('phone'); // Input do telefone para validação live

    // == Validação 'live' do telefone ==
     if(phoneInput) {
        phoneInput.addEventListener('input', () => {
          // Remove caracteres não numéricos (caso colem algo)
          phoneInput.value = phoneInput.value.replace(/[^0-9]/g, '');
          // Verifica se tem 11 dígitos ou não (mas só aplica estilo se tiver algo digitado)
          if (phoneInput.value.length > 0 && !/^[0-9]{11}$/.test(phoneInput.value)) {
            phoneInput.classList.add('invalid-typing'); // Adiciona classe para estilo (borda laranja)
            phoneInput.classList.remove('invalid-submit'); // Remove erro de envio se houver
             phoneInput.style.borderColor = 'orange'; // Aplica borda laranja diretamente
          } else {
            phoneInput.classList.remove('invalid-typing');
             phoneInput.style.borderColor = ''; // Remove borda laranja se válido ou vazio (volta ao padrão)
             // Se estava com erro de submit e agora está válido, remove o erro de submit
             if (phoneInput.classList.contains('invalid-submit') && /^[0-9]{11}$/.test(phoneInput.value)) {
                 phoneInput.classList.remove('invalid-submit');
             }
          }
        });
     }

    // Função getCookie (Mantida)
    function getCookie(name) { const value = "; " + document.cookie; const parts = value.split("; " + name + "="); return parts.length === 2 ? parts.pop().split(";").shift() : null; }

    // ID Externo e FBP (Mantidos)
    let externalId = localStorage.getItem("external_id");
    if (!externalId) { externalId = "user_" + Math.random().toString(36).substring(2) + Date.now(); localStorage.setItem("external_id", externalId); }
    const fbp = getCookie("_fbp");

    // Adiciona listener ao formulário
    leadForm.addEventListener('submit', function(event) {
        event.preventDefault(); // Previne envio padrão
        enviarEvento();
    });

    // Função para enviar evento para o Proxy
    function enviarEvento() {
        formError.style.display = 'none';
        formSuccessMessage.style.display = 'none';
        let isValid = true;

        // Validação final no submit
        Array.from(leadForm.elements).forEach(input => {
            input.classList.remove('invalid-submit'); // Remove erro de submit anterior
            if (input.type !== 'hidden' && input.id !== 'formError' && input.id !== 'formSuccessMessage') {
                // Reseta a borda para o padrão #ccc, exceto se for a validação 'live' laranja
                if(input.style.borderColor !== 'orange') {
                     input.style.borderColor = '#ccc'; // Volta para o cinza padrão
                }
                input.classList.remove('invalid-submit');
            }
            // Verifica validade apenas em campos visíveis
            if (input.offsetParent !== null && !input.checkValidity()) {
                isValid = false;
                input.classList.add('invalid-submit'); // Adiciona classe de erro de submit
                input.style.borderColor = 'red'; // Garante borda vermelha
            }
        });

        if (!isValid) {
            formError.textContent = "Ops! Verifique os campos marcados em vermelho.";
            formError.style.display = 'block';
            console.error("Formulário inválido no submit.");
            return;
        }

        console.log("Formulário válido, preparando envio CAPI...");
        formSuccessMessage.innerHTML = "💌 Tudo certo! Só um momento..."; // Mensagem inicial
        formSuccessMessage.style.display = 'block';
        submitButton.disabled = true;
        submitButton.style.opacity = '0.7';
        submitButton.style.cursor = 'not-allowed';

        // Coleta dados
        const firstName = document.getElementById('firstName').value.trim();
        const lastName = document.getElementById('lastName').value.trim();
        const email = document.getElementById('email').value.trim();
        const phone = document.getElementById('phone').value.trim();

        const proxyUrl = "https://rosane-proxy-api.onrender.com/api/conversion";

        // **** CORREÇÃO: Linha redundante removida ****
        const eventData = {
            event_name: "Lead", event_source_url: window.location.href,
            fbp: fbp || "NA", external_id: externalId,
            user_data: { fn: firstName, ln: lastName, em: email, ph: phone }
        };

        console.log("Enviando evento CAPI para o proxy:", eventData);

        // Envia para o Proxy
        fetch(proxyUrl, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(eventData) })
        .then(response => {
            console.log("Status da resposta do Proxy (CAPI):", response.status);
            // Mesmo se não for OK, tenta parsear JSON para obter mensagem de erro do proxy
            return response.json().then(data => ({ok: response.ok, data, status: response.status }));
        })
        .then(({ok, data, status}) => {
              if (!ok) {
                  console.error(`Erro retornado pelo Proxy (CAPI) - Status ${status}:`, data);
                  formSuccessMessage.style.display = 'none'; // Esconde msg de sucesso se deu erro
                  // Tenta usar mensagem de erro do proxy, se disponível
                  formError.textContent = `Houve um erro (${status}). Tente novamente. ${data?.message || ''}`;
                  formError.style.display = 'block';
              } else {
                  console.log("Resposta de sucesso do Proxy (CAPI):", data);
                  // **** CORREÇÃO: Mensagem de sucesso atualizada ****
                  formSuccessMessage.innerHTML = "💌 Perfeito! Preparando para abrir o WhatsApp...";
                  // Inicia o redirecionamento
                  console.log("Redirecionando para o WhatsApp...");
                  const preFilledMessage = `Olá Rosane! Me chamo ${firstName}, vi sua página e gostaria de mais informações sobre agendamento.`;
                  // **** CORREÇÃO: Número do WhatsApp Atualizado ****
                  const whatsappUrl = `https://wa.me/5551997549708?text=${encodeURIComponent(preFilledMessage)}`;
                  // Pequeno delay antes do redirect para usuário ler a msg
                  setTimeout(() => {
                      try {
                          window.location.href = whatsappUrl;
                      } catch (e) {
                          console.error("Falha ao tentar redirecionar para o WhatsApp:", e);
                          formSuccessMessage.style.display = 'none';
                          formError.textContent = "Não foi possível abrir o WhatsApp automaticamente. Verifique se está instalado.";
                          formError.style.display = 'block';
                      }
                  }, 1000); // 1 segundo delay
              }
        })
        .catch(error => {
            console.error("Erro crítico na requisição fetch para o proxy:", error);
            formSuccessMessage.style.display = 'none';
            formError.textContent = "Erro de conexão. Verifique sua internet e tente novamente.";
            formError.style.display = 'block';
        })
        .finally(() => {
              // Reabilita o botão após um tempo maior, caso algo falhe (inclusive falha no redirect)
              setTimeout(() => {
                  submitButton.disabled = false;
                  submitButton.style.opacity = '1';
                  submitButton.style.cursor = 'pointer';
              }, 5000); // Reabilita após 5 segundos
        });
    }

    // --- Executar Funções na Carga ---
    document.addEventListener('DOMContentLoaded', () => {
        handleReturningVisitor(); // Verifica se é visitante recorrente

        // **** CORREÇÃO: Removido o listener do alert da política de privacidade ****
        // O link no footer agora é um link HTML normal.
    });

  </script>
</body>
</html>
